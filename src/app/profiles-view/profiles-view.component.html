<div class="container">
  <div fxLayout="row"
       fxLayoutAlign="center center"
       class="content">
    <mat-card class="card"
              *ngIf="!isProfileCollectionEmpty(); else emptyProfilesMessage">
      <mat-card-title fxLayout.gt-xs="row"
                      fxLayout.xs="column">
        <h3>Income Profiles</h3>
      </mat-card-title>
      <mat-card-content>
        <div class="profiles-container mat-elevation-z8">
          <mat-accordion>
            <ng-container *ngFor="let profile of profiles; trackBy trackProfiles">
              <mat-expansion-panel>
                <mat-expansion-panel-header>
                  <mat-panel-title>
                    {{profile.profileName}}
                  </mat-panel-title>
                </mat-expansion-panel-header>
                <div class="profile-details">
                  <p class="profile-item">
                    <span>Tax Year:</span>
                    <span>{{profile.fiscalYear}}</span>
                  </p>
                  <p class="profile-item">
                    <span>Gross Income:</span>
                    <span>${{profile.grossIncome | number:'0.2-2' }}</span>
                  </p>
                  <p class="profile-item">
                    <span>Superannuation:</span>
                    <span>${{profile.superAmount | number:'0.2-2' }}</span>
                  </p>
                  <p class="profile-item">
                    <span>Gross Income with Superannuation:</span>
                    <span>${{profile.grossIncome + profile.superAmount | number:'0.2-2' }}</span>
                  </p>
                  <p class="profile-item">
                    <span>Estimated Tax:</span>
                    <span>${{profile.taxAmount | number:'0.2-2' }}</span>
                  </p>
                  <p class="profile-item">
                    <span>Net Income:</span>
                    <span>${{profile.netIncome | number:'0.2-2' }}</span>
                  </p>
                  <p class="profile-item">
                    <span>Total Income after Tax (Net Income + Superannuation):</span>
                    <span>${{profile.netIncome + profile.superAmount | number:'0.2-2' }}</span>
                  </p>
                </div>

                <mat-action-row>
                  <a (click)="deleteProfile(profile.profileId)"
                     type="button">
                    <mat-icon>delete</mat-icon>
                  </a>
                </mat-action-row>
              </mat-expansion-panel>
            </ng-container>
          </mat-accordion>
        </div>
      </mat-card-content>
    </mat-card>
    <ng-template #emptyProfilesMessage>
      <p>
        Create some profiles!
      </p>
    </ng-template>
  </div>
</div>
